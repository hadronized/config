# Options, highlighters, etc.

add-highlighter global/ number-lines -hlcursor

# Commands

## Some pickers
define-command -hidden open_buffer_picker %{
  prompt open: -menu -buffer-completion %{
    buffer %val{text}
  }
}

define-command -hidden open_file_picker %{
  prompt open: -menu -shell-script-candidates 'fd --hidden --type=file' %{
    edit -existing %val{text}
  }
}

# keybindings

## bépo remapping
map global normal c h # left
map global normal t j # down
map global normal s k # up
map global normal r l # right
map global normal C H # extend left
map global normal T J # extend down
map global normal S K # extend up
map global normal R L # extend right
map global normal l c # change
map global normal j t # until
map global normal k s # select
map global normal h r # replace
map global normal L C # duplicate selection downwards
map global normal J T # extend to next char
map global normal K S # split
map global normal H R # replace with yanked
map global insert ' ' ' '
map -docstring "line begin" global goto c h
map -docstring "buffer bottom" global goto t j
map -docstring "buffer top" global goto s k
map -docstring "line end" global goto r l
map -docstring "scroll left" global view c h
map -docstring "scroll up" global view t j
map -docstring "scroll down" global view s k
map -docstring "scroll right" global view r l

# alt remapping
map global normal <c-s-z> <a-z> # combine selections
map global normal <c-s-k> <a-k> # split on newlines 
map global normal m <a-i>       # select inner
map global normal M <a-a>       # select outer

## pickers
map -docstring "Open buffer picker" global user b ':open_buffer_picker<ret>'
map -docstring "Open file picker" global user  ':open_file_picker<ret>'
